<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<!-- 스프링 시큐리티 인증을 받은 로그인한 사용자의 정보를 타임리프에서 사용하고 싶을때 -->
<div th:fragment="headerFragment" class="header">
    <div class="whole-container">
        <header class="">
            <div class="row">

                <div class="d-flex col-md-6 flex-wrap align-items-center justify-content-center justify-content-lg-start nav-whole">
                    <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0 nav-left"
                        style="margin-right: 100px;">
                        <a th:href="@{/}">
                            <img src="/images/index_logo.png" width="150px" height="90px">
                        </a>
                        <li><a class="nav-link px-3 head_text" th:href="@{/}">HOME</a></li>
                        <!--                                        <li><a class="nav-link px-3 head_text" href="HTML/project_page/project_expected_list.html">오픈예정</a></li>-->
                        <li><a class="nav-link px-3 head_text" th:href="@{/all_list}">전체보기</a></li>
                        <!--                    <li><a class="nav-link px-3 head_text" href="#">기부</a></li>-->
                        <div class="dropdown">
                            <button class="btn  dropdown-toggle head_text" type="button" id="dropdownMenuButton"
                                    data-toggle="dropdown"
                                    aria-haspopup="true" aria-expanded="false">
                                더보기
                            </button>
                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton" x-placement="bottom-start"
                                 style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 38px, 0px);">
                                <a class="dropdown-item" th:href="@{/board/notice/list}">공지사항</a>
                                <a class="dropdown-item" th:href="@{/board/event/list}">이벤트</a>
                                <a class="dropdown-item" th:href="@{/board/faq/list}">FAQ</a>
                                <a class="dropdown-item" th:href="@{/board/qna/list}">문의하기</a>
                                <a class="dropdown-item" th:href="@{/board/smileInfo/list}">회사이야기</a>
                            </div>
                        </div>
                    </ul>
                </div>

                <th:block sec:authorize="isAnonymous()">
                    <div class="d-flex col-md-6 flex-wrap align-items-center justify-content-center justify-content-lg-start nav-whole main_right">
                        <div class="col-md-6">
                            <form role="search" th:action="@{/search_list}" method="post" style="display: flex;">
                                <input type="search" name="searchProject" class="form-control" placeholder="Search..." aria-label="Search" />
                                <input type="submit" class="btn-Danger" value="검색" style="margin-left:10px; background-color: #ffae00; color: white; border: 0px; border-radius: 10px; width: 60px">
                            </form>
                        </div>
                        <div class="col-md-6">
                            <button type="button" class="btn btn-color" th:onclick="|location.href='@{/member/login}'|">
                                로그인
                            </button>
                            <button type="button" class="btn btn-color" th:onclick="|location.href='@{/member/sign_up_form}'|">
                                회원가입
                            </button>
                            <button type="button" class="btn project-color" th:onclick="|location.href='@{/member/login}'|">
                                프로젝트등록
                            </button>
                        </div>
                    </div>
                </th:block>

                <th:block sec:authorize="isAuthenticated()">
                    <div class="d-flex col-md-6 flex-wrap align-items-center justify-content-center justify-content-lg-start nav-whole main_right">
                        <div class="col-md-6">
                            <form role="search" th:action="@{/search_list}" method="post" style="display: flex;">
                                <input type="search" name="searchProject" class="form-control" placeholder="Search..." aria-label="Search" />
                                <input type="submit" class="btn-Danger" value="검색" style="margin-left:10px; background-color: #ffae00; color: white; border: 0px; border-radius: 10px; width: 60px">
                            </form>
                        </div>
                        <div class="col-md-6">
                            <th:block sec:authorize="hasRole('USER')">
                                <button type="button" class="btn btn-color"
                                        th:onclick="|location.href='@{/mypage/main}'|">마이페이지
                                </button>
                            </th:block>
                            <th:block sec:authorize="hasRole('ADMIN')">
                                <button type="button" class="btn btn-color"
                                        th:onclick="|location.href='@{/manager/main}'|">관리자페이지
                                </button>
                            </th:block>

                            <button type="button" class="btn btn-color"
                                    th:onclick="|location.href='@{/member/logout}'|">
                                로그아웃
                            </button>
                            <button type="button" class="btn project-color"
                                    th:onclick="|location.href='@{/project/create/standardInfo}'|">
                                프로젝트등록
                            </button>
<!--                            <div class="header_user_name">-->
<!--                                <span sec:authentication="principal.username"></span>-->
<!--                                <span>님 안녕하세요.</span>-->
<!--                            </div>-->
                        </div>
                    </div>
                </th:block>
            </div>
        </header>
    </div>
</div>
</html>
